# ì…ì‹¤ ì²´í¬ í•´ì£¼ì„¸ìš” !! ğŸˆ

# ì»¤ë¦¬í˜ëŸ¼ 50% ì‹œì  : 3ì›” 2ì¼
1. 2ì›” 19ì¼ : SQL ê³¼ëª© ë‘ ê°œ
2. 2ì›” 24ì¼ : ìŠ¤í”„ë§ ë¶€íŠ¸ ê´€ë ¨ ë‘ ê°œ ê³¼ëª©(ì‹œí—˜ ë³€ë™ ì˜ˆì • - ë’¤ë¡œ)

# DDL
## CREATE : í…Œì´ë¸” ìƒì„±
- í…Œì´ë¸”ì„ ë§Œë“¤ ë•ŒëŠ” ê° ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ê³¼ ì œì•½ì¡°ê±´ì„ ì„¤ì •í•  í•„ìš”ìˆìŒ
```sql
-- 1. CREATE : í…Œì´ë¸” ìƒì„±
CREATE TABLE students (
	student_id INT AUTO_INCREMENT primary KEY,
	full_name VARCHAR(50) NOT NULL,
	email VARCHAR(100) UNIQUE,
	birth_date DATE,
	created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```
## ALTER : í…Œì´ë¸” ìˆ˜ì •
- ì´ë¯¸ ë§Œë“¤ì–´ì§„ í…Œì´ë¸”ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê±°ë‚˜ íƒ€ì…ì„ ë³€ê²½í•  ë•Œ ì‚¬ìš©

```sql
-- ì»¬ëŸ¼ ì¶”ê°€í•  ë•Œ
ALTER TABLE students ADD phone VARCHAR(20);

-- ì»¬ëŸ¼ ë°ì´í„° íƒ€ì… ìˆ˜ì •
ALTER TABLE students MODIFY COLUMN full_name VARCHAR(100); 
```

## DROP : í…Œì´ë¸” ì‚­ì œ
í…Œì´ë¸” ìì²´ë¥¼ ì™„ì „íˆ ì‚­ì œ(ë³µêµ¬ê°€ ì–´ë µê¸° ë•Œë¬¸ì— ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤).
```sql
-- í…Œì´ë¸” ì‚­ì œ
DROP TABLE students;
```

# DML(Data Manipulation Language)
- ë°ì´í„°ë¥¼ ì§ì ‘ ì¡°ì‘í•˜ëŠ” create(INSERT), read(SELECT), update(UPDATE), delete(DELETE) ë‹¨ê³„

## INSERT : ë°ì´í„° ì¶”ê°€
ë°ì´í„°ë¥¼ ì‚½ì…í•  ë•ŒëŠ” ì»¬ëŸ¼ ìˆœì„œì™€ ë°ì´í„° íƒ€ì…ì„ ì¼ì¹˜ì‹œì¼œì•¼ í•¨.
```sql
-- INSERT
-- row í•˜ë‚˜ë§Œ ì‚½ì…í•œ ì˜ˆì‹œ
INSERT INTO students (full_name, email, birth_date)
  VALUES ('ê¹€ì¼', 'kim1@test.com', '2026-02-12');
-- ì—¬ëŸ¬ row í•œ ë²ˆì— ì‚½ì…
INSERT INTO students (full_name, email)
	VALUES ('ê¹€ì´', 'kim2@test.com'),
			('ê¹€ì‚¼', 'kim3@test.com');	
```

## UPDATE : ë°ì´í„° ìˆ˜ì •
* ì°¸ì¡° ì‚¬í•­ : `WHERE`ì ˆ ìƒëµì‹œ í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ì´ ìˆ˜ì •ë©ë‹ˆë‹¤.
```sql
-- UPDATE
UPDATE students SET birth_date = '1990-01-01'
 	WHERE student_id = 2;

UPDATE students SET phone = '010-7445-7113'
	WHERE student_id = 3;
```

## DELETE : ë°ì´í„° ì‚­ì œ
* ì°¸ì¡° ì‚¬í•­ : ë§ˆì°¬ê°€ì§€ë¡œ `WHERE`ì„ ì´ìš©í•´ íŠ¹ì • rowë§Œ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤. ê³ ìœ ê°’(PK)ì˜ ì˜ë¯¸ê°€ ì¤‘ìš”í•œ ì´ìœ ì…ë‹ˆë‹¤.

```sql
DELETE FROM students WHERE student_id = 4;
```

![alt text](image-42.png)

# í†µí•© ê³¼ì œ
1. ì´í•˜ì˜ í…Œì´ë¸”ë“¤ì„ ìƒì„±í•˜ì‹œì˜¤.
    - courses
        - course_id : ìë™ì¦ê°€ ì ìš© / pk ì ìš© / int
        - course_name : ë¬¸ìì—´(100) not null ì ìš©
        - professor : ë¬¸ìì—´(50)
        - credits : int default 3
    
    - enrollments
        - enrollments_id : ìë™ì¦ê°€ ì ìš© / pk ì ìš© / int
        - student_id : int / fk ì ìš©
        - course_id : int / fk ì ìš©
        - enroll_date : DATE

2. ë”ë¯¸ ë°ì´í„° ì‚½ì…
    - courses í…Œì´ë¸”ì— 
        - ë°ì´í„°ë² ì´ìŠ¤ê¸°ì´ˆ / ê°•êµìˆ˜ / 3
        - ìë°”í”„ë¡œê·¸ë˜ë° / ì´êµìˆ˜ / 4
        - ì›¹ë””ìì¸ / ë°•êµìˆ˜ / 2

    - enrollmentsì˜ student_id / course_id / enroll_dateì—
        - 1, 1, '2026-02-01'
        - 1, 2, '2026-02-01'
        - 2, 1, '2026-02-02'

# í†µí•© ê³¼ì œ # 2
1. Create (ë°ì´í„° ì¶”ê°€)
ë¬¸ì œ 1.1: ìƒˆë¡œìš´ í•™ìƒ 'ë°•ì§€ë¯¼'(park@test.com, 1995-05-05, 010-5555-6666)ì„ students í…Œì´ë¸”ì— ì¶”ê°€í•˜ì„¸ìš”.

ë¬¸ì œ 1.2: ìƒˆë¡œìš´ ê³¼ëª© 'íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°'(ìµœêµìˆ˜, 3í•™ì )ì„ courses í…Œì´ë¸”ì— ì¶”ê°€í•˜ì„¸ìš”.

ë¬¸ì œ 1.3: ë°©ê¸ˆ ì¶”ê°€í•œ 'ë°•ì§€ë¯¼' í•™ìƒì´ 'íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°'ê³¼ 'ë°ì´í„°ë² ì´ìŠ¤ê¸°ì´ˆ' ê³¼ëª©ì„ ì˜¤ëŠ˜ ë‚ ì§œë¡œ ìˆ˜ê°• ì‹ ì²­í•˜ê²Œ í•˜ì„¸ìš”.

ì£¼ì˜: SELECT ë¬¸ìœ¼ë¡œ ë¨¼ì € í•™ìƒê³¼ ê³¼ëª©ì˜ ID ë²ˆí˜¸ë¥¼ í™•ì¸í•œ ë’¤ INSERT í•˜ì„¸ìš”.

```sql
INSERT INTO students (full_name, email, birth_date, phone) VALUES ('ë°•ì§€ë¯¼', 'park@test.com', '1995-05-05', '010-5555-6666');


 INSERT INTO courses (course_name, professor) VALUES ('íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°', 'ìµœêµìˆ˜');
-- defaultë¼ì„œ creditì…ë ¥ ì•ˆí–ˆìŠµë‹ˆë‹¤.

 INSERT INTO enrollments (student_id, course_id, enrollment_date) VALUES	(3, 4, '2026-02-12'),  	(3, 1, '2026-02-12');
```

2. Read (ë°ì´í„° ì¡°íšŒ)
ë¬¸ì œ 2.1: 'ì´êµìˆ˜'ê°€ ë‹´ë‹¹í•˜ëŠ” ëª¨ë“  ê³¼ëª©ì˜ ì´ë¦„ì„ ì¶œë ¥í•˜ì„¸ìš”.

ë¬¸ì œ 2.2: ì´ë©”ì¼ ì£¼ì†Œì— 'test.com'ì´ í¬í•¨ëœ í•™ìƒë“¤ì˜ ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ì¡°íšŒí•˜ì„¸ìš”.

ë¬¸ì œ 2.3 [JOIN]: í˜„ì¬ 'ë°ì´í„°ë² ì´ìŠ¤ê¸°ì´ˆ' ê³¼ëª©ì„ ë“£ê³  ìˆëŠ” í•™ìƒë“¤ì˜ ì´ë¦„ê³¼ ê·¸ë“¤ì˜ ìˆ˜ê°• ì‹ ì²­ ë‚ ì§œë¥¼ ì¶œë ¥í•˜ì„¸ìš”.
```sql
SELECT course_name FROM courses WHERE professor = 'ì´êµìˆ˜';

SELECT full_name, email FROM students WHERE email LIKE '%test.com';

SELECT s.full_name, e.enrollment_date 
	FROM students s 
		INNER JOIN enrollments e ON s.student_id = e.student_id 
		INNER JOIN courses c ON c.course_id = e.course_id 
	WHERE course_name = 'ë°ì´í„°ë² ì´ìŠ¤ê¸°ì´ˆ';
```

3. Update (ë°ì´í„° ìˆ˜ì •)
ë¬¸ì œ 3.1: kim2 í•™ìƒì˜ ì „í™”ë²ˆí˜¸ê°€ 010-1597-7533ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ì •ë³´ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.

ë¬¸ì œ 3.2: 'ì›¹ë””ìì¸' ê³¼ëª©ì˜ ë‹´ë‹¹ êµìˆ˜ê°€ 'ë°•êµìˆ˜'ì—ì„œ 'ê¹€êµìˆ˜'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ê³¼ëª© ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

ë¬¸ì œ 3.3: ëª¨ë“  ê³¼ëª©ì˜ í•™ì (credits)ì„ 1í•™ì ì”© ìƒí–¥ ì¡°ì •í•˜ì„¸ìš”.

```sql
UPDATE students SET phone = '010-1597-7533' WHERE full_name = 'kim2';

UPDATE courses SET professor = 'ê¹€êµìˆ˜' WHERE course_name = 'ì›¹ë””ìì¸';

-- ëª¨ë“  ê³¼ëª© 1 í•™ì  ì¦ê°€ -  whereì ˆì´ ì—†ìœ¼ë¯€ë¡œ ëª¨ë“  creditsì˜ ê°’ë“¤ì— 1ì”© ë”í•´ì¡ŒìŠµë‹ˆë‹¤.
UPDATE courses SET credits = credits + 1;
```

4. Delete (ë°ì´í„° ì‚­ì œ)
ë¬¸ì œ 4.1: kim2 í•™ìƒì´ ìí‡´ë¥¼ ê²°ì •í–ˆìŠµë‹ˆë‹¤. students í…Œì´ë¸”ì—ì„œ í•´ë‹¹ í•™ìƒì„ ì‚­ì œí•˜ì„¸ìš”.

ëŒë°œ ìƒí™©: ë§Œì•½ ì‚­ì œ ì‹œ ì™¸ë˜í‚¤ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´, ì™œ ë°œìƒí•˜ëŠ”ì§€ ì„¤ëª…í•˜ê³  enrollments í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ë¨¼ì € ì‚­ì œí•œ ë’¤ ë‹¤ì‹œ ì‹œë„í•´ ë³´ì„¸ìš”.

ë¬¸ì œ 4.2: ìˆ˜ê°• ì¸ì›ì´ 0ëª…ì¸ ê³¼ëª©ì„ ì°¾ì•„ courses í…Œì´ë¸”ì—ì„œ ì‚­ì œí•˜ì„¸ìš”.
```sql
-- DELETE FROM students WHERE full_name = 'kim2'; -- ì´ëŒ€ë¡œëŠ” ì‹¤íŒ¨í•©ë‹ˆë‹¤.

-- FKì— ìˆëŠ” ê°’ë¶€í„° ì‚­ì œí•˜ê² ìŠµë‹ˆë‹¤.
DELETE FROM enrollments	WHERE student_id = 2; -- ì–˜ë„ ë‹µì´ê¸´ í•©ë‹ˆë‹¤.

DELETE FROM enrollments WHERE student_id = (SELECT student_id FROM students WHERE full_name = 'kim2');


-- ê·¸ë˜ì„œ ì´ì œ studentsì—ì„œë„ ì‚­ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
DELETE FROM students WHERE full_name = 'kim2';

DELETE FROM courses
WHERE course_id NOT IN (SELECT distinct course_id FROM enrollments);
```

- ì´ìƒì˜ ê²½ìš° sqlë¬¸ë§Œ ë´¤ì„ ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì‹ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

- ì´ëŠ” GUI í˜•íƒœë¡œ FK ì œì•½ ì¡°ê±´ì„ ì„¤ì •í–ˆì„ ë•Œ, update / delete ì‹œì— `RESTRICT`ë¡œ ì„¤ì •í–ˆê¸° ë•Œë¬¸ì— ì‹¤íŒ¨ë¼ê³  ë‚˜ì˜¨ê²ë‹ˆë‹¤.

- ê·¸ë˜ì„œ ì´ ìˆ˜ì—… ì´í›„ ë¶€ë¶„ì—ì„œ `CASCADE` ë¡œ ì„¤ì •ì„ ë°”ê¿¨ì„ ë•ŒëŠ” `DELTE FROM students WHERE student_id = 2;`ê°€ ì•„ë¬´ëŸ° ë¬¸ì œ ì—†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.


* FK ì œì•½ ì¡°ê±´ì´ ê±¸ë ¤ìˆëŠ” í…Œì´ë¸”ì„ sqlë¬¸ìœ¼ë¡œ ìƒì„±í•˜ê¸°

```sql
CREATE TABLE enrollments (
    enrollment_id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT,
    course_id INT,
    enroll_date DATE,
    -- ì™¸ë˜í‚¤ ì„¤ì •
    FOREIGN KEY (student_id) REFERENCES students(student_id),
    FOREIGN KEY (course_id) REFERENCES courses(course_id)
);
```

# korit_12_springboot
1. chrome -> start.spring.io
![alt text](image-43.png)


# í†µí•© ê³¼ì œ # 3

- AppUser í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ì‹œì˜¤.
  1. field ëª©ë¡
    - id(pk/ìë™ì¦ê°€/Long)
    - name(String)
    - username(String)
    - password(String)

  2. ìƒì„±ìë¥¼ ë§Œë“œì‹œì˜¤(JPAì—ì„œëŠ” NoArgsConstructorê°€ í•„ìˆ˜ì ì…ë‹ˆë‹¤.)
  3. SpringBoot í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚¤ê³ 
    - id, name, username, password ìˆœìœ¼ë¡œ 1, ê¹€ì¼, kim1@test.com, kim123456 ìœ¼ë¡œ rowë¥¼ ì‚½ì…í•˜ì‹œì˜¤.
    - SELECT * FROM APP_USER;ë¥¼ í†µí•´ rowê°€ ë“¤ì–´ê°€ìˆìŒì„ í™•ì¸í•˜ì‹œì˜¤.
    - ìº¡ì²˜í•´ì„œ md íŒŒì¼ì— ì˜®ê²¨ë†“ê³  ììŠµí•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.

git add .
git commit -m "feat: 20260212 springboot project / DDL"
git push
ìê²© ì¦ëª… ì‚­ì œ
